<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¹Ù„Ù‰ Facebook - AZ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø´Ø§Ù…Ù„</title>
    
    <!-- Ø¥Ø¶Ø§ÙØ© ÙˆØµÙ Ù„Ù„ØµÙØ­Ø© -->
    <meta name="description" content="Ù…Ù†ØµØ© Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ù†ØªØ¬Ø§Øª AZ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø´Ø§Ù…Ù„ Ø¹Ù„Ù‰ Facebook - Ø´Ø§Ø±Ùƒ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª Ù…Ø¹ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡">
    <meta name="keywords" content="AZ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø´Ø§Ù…Ù„, Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ù†ØªØ¬Ø§Øª, ÙÙŠØ³Ø¨ÙˆÙƒ, ØªØ³ÙˆÙŠÙ‚ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ, ØªØ³ÙˆÙ‚, Ù…Ù†ØªØ¬Ø§Øª, Ø¹Ø±ÙˆØ¶, Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªÙˆØ§ØµÙ„">
    <meta name="author" content="AZ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø´Ø§Ù…Ù„">
    
    <!-- Ø±Ø¨Ø· Ù…ÙƒØªØ¨Ø§Øª Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    
    <!-- Ø±Ø¨Ø· Font Awesome Ù„Ù„Ø±Ù…ÙˆØ² -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #1877F2; /* Ù„ÙˆÙ† ÙÙŠØ³Ø¨ÙˆÙƒ */
            --secondary-color: #4267B2;
            --success-color: #42b72a;
            --dark-color: #1c1e21;
            --light-color: #f0f2f5;
            --background-color: #ffffff;
            --text-color: #333;
            --border-radius: 10px;
            --box-shadow: 0 2px 15px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f0f2f5 0%, #e4e6eb 100%);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        /* ==========================================
           ğŸ¯ Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…Ø®ØµØµ Ù„Ù„ØµÙØ­Ø©
           ========================================== */
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(24, 119, 242, 0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .brand-logo {
            width: 60px;
            height: 60px;
            object-fit: contain;
            border-radius: 12px;
            background: white;
            padding: 5px;
            border: 3px solid white;
            box-shadow: 0 3px 15px rgba(0,0,0,0.2);
        }

        .brand-text {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .brand-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
            color: white;
        }

        .brand-subtitle {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
        }

        .facebook-icon {
            font-size: 40px;
            color: white;
            background: rgba(255, 255, 255, 0.2);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 3px 15px rgba(0,0,0,0.2);
        }

        /* ==========================================
           ğŸ¯ Ø´Ø±ÙŠØ· Ø§Ù„ÙÙ„ØªØ±Ø©
           ========================================== */
        .filter-container {
            background: white;
            padding: 20px;
            margin: 20px auto;
            max-width: 1200px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }

        .filter-item {
            flex: 1;
            min-width: 200px;
        }

        .filter-item label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--secondary-color);
        }

        .filter-item select,
        .filter-item input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e4e6eb;
            border-radius: var(--border-radius);
            font-family: inherit;
            font-size: 14px;
            transition: var(--transition);
            background: white;
            color: var(--text-color);
        }

        .filter-item select:focus,
        .filter-item input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(24, 119, 242, 0.1);
        }

        .search-container {
            display: flex;
            gap: 10px;
        }

        .search-container input {
            flex: 1;
        }

        .search-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            padding: 0 20px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .search-btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .reset-btn {
            background: #e4e6eb;
            color: #65676b;
            border: none;
            border-radius: var(--border-radius);
            padding: 12px 20px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .reset-btn:hover {
            background: #d8dadf;
            transform: translateY(-2px);
        }

        /* ==========================================
           ğŸ¯ Ù…Ù†Ø·Ù‚Ø© Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
           ========================================== */
        .products-container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        /* ==========================================
           ğŸ¯ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ø®ØµØµØ© Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©
           ========================================== */
        .product-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            border: 2px solid transparent;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
            border-color: var(--primary-color);
        }

        .product-image-container {
            position: relative;
            width: 100%;
            height: 250px;
            overflow: hidden;
        }

        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .product-card:hover .product-image {
            transform: scale(1.05);
        }

        .product-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: var(--success-color);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .product-content {
            padding: 20px;
        }

        .product-name {
            font-size: 18px;
            font-weight: bold;
            color: var(--dark-color);
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .product-price {
            font-size: 22px;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .product-price::before {
            content: 'ğŸ’µ';
            font-size: 18px;
        }

        .product-description {
            color: #65676b;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 15px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .merchant-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding: 10px;
            background: #f0f2f5;
            border-radius: 8px;
        }

        .merchant-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--primary-color);
        }

        .merchant-details {
            flex: 1;
        }

        .merchant-name {
            font-weight: 600;
            color: var(--dark-color);
            font-size: 14px;
        }

        .merchant-category {
            font-size: 12px;
            color: #65676b;
        }

        /* ==========================================
           ğŸ¯ Ø²Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ Facebook
           ========================================== */
        .facebook-share-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            border-radius: var(--border-radius);
            padding: 15px;
            width: 100%;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .facebook-share-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: 0.5s;
        }

        .facebook-share-btn:hover::before {
            left: 100%;
        }

        .facebook-share-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(24, 119, 242, 0.4);
        }

        .facebook-share-btn:active {
            transform: translateY(-1px);
        }

        .facebook-share-btn i {
            font-size: 20px;
        }

        /* ==========================================
           ğŸ¯ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
           ========================================== */
        .share-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .share-modal.active {
            display: flex;
        }

        .share-modal-content {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlideUp 0.3s ease-out;
        }

        @keyframes modalSlideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .share-modal-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 25px;
            text-align: center;
            border-radius: 20px 20px 0 0;
        }

        .share-modal-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .share-modal-subtitle {
            opacity: 0.9;
            font-size: 16px;
        }

        .share-modal-body {
            padding: 25px;
        }

        .share-preview {
            background: #f0f2f5;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border: 2px dashed #ccd0d5;
        }

        .share-image-preview {
            width: 100%;
            max-height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 3px solid white;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .share-text-preview {
            font-size: 14px;
            color: #1c1e21;
            line-height: 1.5;
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .share-url-preview {
            font-size: 12px;
            color: #65676b;
            background: white;
            padding: 10px;
            border-radius: 6px;
            word-break: break-all;
            border: 1px solid #dddfe2;
        }

        .share-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .share-action-btn {
            flex: 1;
            padding: 12px;
            border-radius: var(--border-radius);
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .share-action-btn.copy {
            background: #e4e6eb;
            color: #1c1e21;
        }

        .share-action-btn.copy:hover {
            background: #d8dadf;
        }

        .share-action-btn.share {
            background: var(--primary-color);
            color: white;
        }

        .share-action-btn.share:hover {
            background: var(--secondary-color);
        }

        .share-modal-footer {
            padding: 20px;
            text-align: center;
            color: #65676b;
            font-size: 14px;
            border-top: 1px solid #e4e6eb;
        }

        /* ==========================================
           ğŸ¯ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØ§Ù„Ø£Ø®Ø·Ø§Ø¡
           ========================================== */
        .loading {
            text-align: center;
            padding: 40px;
            color: var(--primary-color);
            font-size: 18px;
        }

        .loading i {
            font-size: 40px;
            margin-bottom: 20px;
            display: block;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error {
            text-align: center;
            padding: 40px;
            color: #e41e3f;
            background: #ffe6ea;
            border-radius: var(--border-radius);
            margin: 20px auto;
            max-width: 600px;
        }

        .no-products {
            text-align: center;
            padding: 50px 20px;
            color: #65676b;
            font-size: 18px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .no-products i {
            font-size: 50px;
            color: #bdc3c7;
            margin-bottom: 20px;
            display: block;
        }

        /* ==========================================
           ğŸ¯ Ø§Ù„ÙÙˆØªØ±
           ========================================== */
        .footer {
            background: var(--dark-color);
            color: white;
            padding: 30px 20px;
            text-align: center;
            margin-top: 50px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-text {
            font-size: 14px;
            opacity: 0.8;
            margin-top: 10px;
        }

        .back-to-home {
            display: inline-block;
            margin-top: 20px;
            padding: 10px 25px;
            background: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            transition: var(--transition);
        }

        .back-to-home:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        /* ==========================================
           ğŸ¯ ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨
           ========================================== */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }

            .brand {
                flex-direction: column;
                text-align: center;
            }

            .brand-text {
                align-items: center;
            }

            .filter-container {
                flex-direction: column;
                padding: 15px;
            }

            .filter-item {
                width: 100%;
                min-width: 100%;
            }

            .products-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .share-modal-content {
                width: 95%;
                margin: 20px;
            }

            .share-actions {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .header {
                padding: 15px;
            }

            .brand-logo {
                width: 50px;
                height: 50px;
            }

            .brand-title {
                font-size: 20px;
            }

            .facebook-icon {
                width: 50px;
                height: 50px;
                font-size: 30px;
            }

            .product-image-container {
                height: 200px;
            }

            .product-content {
                padding: 15px;
            }

            .product-name {
                font-size: 16px;
            }

            .product-price {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
    <header class="header">
        <div class="header-content">
            <div class="brand">
                <img src="https://raw.githubusercontent.com/e772299420-hue/Call/main/icon-512x5122.png" alt="Ø´Ø¹Ø§Ø± AZ" class="brand-logo">
                <div class="brand-text">
                    <div class="brand-title">AZ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø´Ø§Ù…Ù„</div>
                    <div class="brand-subtitle">Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¹Ù„Ù‰ Facebook</div>
                </div>
            </div>
            <div class="facebook-icon">
                <i class="fab fa-facebook-f"></i>
            </div>
        </div>
    </header>

    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ÙÙ„ØªØ±Ø© -->
    <div class="filter-container" id="filter-container">
        <div class="filter-item">
            <label for="category-filter"><i class="fas fa-tags"></i> Ø§Ù„ÙØ¦Ø©</label>
            <select id="category-filter">
                <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª</option>
                <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ø§Ù„ÙØ¦Ø§Øª Ù…Ù† Firebase -->
            </select>
        </div>
        <div class="filter-item">
            <label for="merchant-filter"><i class="fas fa-store"></i> Ø§Ù„ØªØ§Ø¬Ø±</label>
            <select id="merchant-filter">
                <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¬Ø§Ø±</option>
                <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ø§Ù„ØªØ¬Ø§Ø± Ù…Ù† Firebase -->
            </select>
        </div>
        <div class="filter-item">
            <label for="search-input"><i class="fas fa-search"></i> Ø§Ù„Ø¨Ø­Ø«</label>
            <div class="search-container">
                <input type="text" id="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬...">
                <button class="search-btn" id="search-btn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>
        <div class="filter-item">
            <label style="visibility: hidden;">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</label>
            <button class="reset-btn" id="reset-btn">
                <i class="fas fa-redo"></i>
                Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
            </button>
        </div>
    </div>

    <!-- Ù…Ù†Ø·Ù‚Ø© Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
    <div class="products-container">
        <div class="products-grid" id="products-grid">
            <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù‡Ù†Ø§ -->
            <div class="loading">
                <i class="fas fa-spinner"></i>
                Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª...
            </div>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© -->
    <div class="share-modal" id="share-modal">
        <div class="share-modal-content">
            <div class="share-modal-header">
                <div class="share-modal-title">
                    <i class="fab fa-facebook"></i>
                    Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ Facebook
                </div>
                <div class="share-modal-subtitle">
                    Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø£Ùˆ Ø´Ø§Ø±ÙƒÙ‡ Ù…Ø¨Ø§Ø´Ø±Ø©Ù‹
                </div>
            </div>
            <div class="share-modal-body">
                <div class="share-preview">
                    <img id="share-image-preview" class="share-image-preview" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬">
                    <div id="share-text-preview" class="share-text-preview">
                        <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ù†Øµ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ù‡Ù†Ø§ -->
                    </div>
                    <div id="share-url-preview" class="share-url-preview">
                        <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø±Ø§Ø¨Ø· Ù‡Ù†Ø§ -->
                    </div>
                </div>
                <div class="share-actions">
                    <button class="share-action-btn copy" id="copy-link-btn">
                        <i class="far fa-copy"></i>
                        Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·
                    </button>
                    <button class="share-action-btn share" id="open-facebook-btn">
                        <i class="fab fa-facebook-f"></i>
                        ÙØªØ­ Facebook
                    </button>
                </div>
            </div>
            <div class="share-modal-footer">
                <p>Ø³ÙŠØªÙ… ÙØªØ­ ØµÙØ­Ø© Facebook ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©</p>
                <p>Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„ÙˆØ¬Ù‡Ø©: <strong>AZ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø´Ø§Ù…Ù„</strong></p>
            </div>
        </div>
    </div>

    <!-- Ø§Ù„ÙÙˆØªØ± -->
    <footer class="footer">
        <div class="footer-content">
            <p>Â© 2024 AZ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø´Ø§Ù…Ù„ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
            <p class="footer-text">Ù…Ù†ØµØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„ØªÙ„Ø¨ÙŠØ© Ø¬Ù…ÙŠØ¹ Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒ Ø§Ù„ØªØ³ÙˆÙ‚ÙŠØ©</p>
            <a href="az_suq.html" class="back-to-home">
                <i class="fas fa-arrow-right"></i>
                Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            </a>
        </div>
    </footer>

    <script>
        // ==========================================
        // ğŸ”¥ ØªÙ‡ÙŠØ¦Ø© Firebase
        // ==========================================
        const firebaseConfig = { 
            databaseURL: "https://chat-fat-free-default-rtdb.firebaseio.com/" 
        };
        
        try {
            if (!firebase.apps.length) {
                firebase.initializeApp(firebaseConfig);
                console.log('âœ… Firebase initialized successfully');
            }
        } catch (error) {
            console.error("âŒ Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Firebase:", error);
        }
        
        const db = firebase.database();

        // ==========================================
        // ğŸ“¦ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        // ==========================================
        let allProducts = [];
        let allMerchants = [];
        let allCategories = [];
        let filteredProducts = [];
        let currentProductForShare = null;

        // ==========================================
        // ğŸ¯ Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
        // ==========================================
        const productsGrid = document.getElementById('products-grid');
        const categoryFilter = document.getElementById('category-filter');
        const merchantFilter = document.getElementById('merchant-filter');
        const searchInput = document.getElementById('search-input');
        const searchBtn = document.getElementById('search-btn');
        const resetBtn = document.getElementById('reset-btn');
        const shareModal = document.getElementById('share-modal');
        const shareImagePreview = document.getElementById('share-image-preview');
        const shareTextPreview = document.getElementById('share-text-preview');
        const shareUrlPreview = document.getElementById('share-url-preview');
        const copyLinkBtn = document.getElementById('copy-link-btn');
        const openFacebookBtn = document.getElementById('open-facebook-btn');

        // ==========================================
        // ğŸš€ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        // ==========================================
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ğŸ Ø¨Ø¯Ø¡ ØªØ­Ù…ÙŠÙ„ ØµÙØ­Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ Facebook...');
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            loadAllData();
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
            setupEventListeners();
        });

        // ==========================================
        // ğŸ“Š ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        // ==========================================
        async function loadAllData() {
            try {
                // ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ Ù…ØªÙˆØ§Ø²ÙŠ
                const [productsSnap, merchantsSnap, categoriesSnap] = await Promise.all([
                    db.ref("products").once("value"),
                    db.ref("merchants").once("value"),
                    db.ref("categories").once("value")
                ]);

                allProducts = convertFirebaseData(productsSnap.val()) || [];
                allMerchants = convertFirebaseData(merchantsSnap.val()) || [];
                allCategories = convertFirebaseData(categoriesSnap.val()) || [];

                console.log('ğŸ“Š ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', {
                    products: allProducts.length,
                    merchants: allMerchants.length,
                    categories: allCategories.length
                });

                // ØªØµÙÙŠØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„ØªØ¬Ø§Ø± Ø§Ù„Ù†Ø´Ø·ÙŠÙ† ÙÙ‚Ø·
                filterActiveMerchantProducts();
                
                // ØªØ¹Ø¨Ø¦Ø© Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„ÙÙ„Ø§ØªØ±
                populateFilterOptions();
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
                displayProducts();

            } catch (error) {
                console.error("âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:", error);
                showError("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©.");
            }
        }

        // ==========================================
        // ğŸ”„ ØªØ­ÙˆÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Firebase
        // ==========================================
        function convertFirebaseData(firebaseData) {
            if (!firebaseData) return [];
            try {
                return Object.entries(firebaseData).map(([id, data]) => 
                    data && data.id ? ({ ...data }) : ({ id, ...data }));
            } catch (e) {
                console.error("âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:", e);
                return [];
            }
        }

        // ==========================================
        // ğŸª ØªØµÙÙŠØ© Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØªØ¬Ø§Ø± Ø§Ù„Ù†Ø´Ø·ÙŠÙ†
        // ==========================================
        function filterActiveMerchantProducts() {
            filteredProducts = allProducts.filter(product => {
                const merchant = allMerchants.find(m => m.id === product.userId);
                if (!merchant) return false;
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„ØªØ§Ø¬Ø± Ù†Ø´Ø· ÙˆÙˆØ¸ÙŠÙØªÙ‡ "ØªØ§Ø¬Ø±"
                const isActive = merchant.status === "active" || merchant.status === "Ù†Ø´Ø·";
                const isMerchant = merchant.job === "ØªØ§Ø¬Ø±" || merchant.type === "ØªØ§Ø¬Ø±";
                
                return isActive && isMerchant;
            });
            
            console.log('âœ… ØªÙ… ØªØµÙÙŠØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:', {
                original: allProducts.length,
                filtered: filteredProducts.length
            });
        }

        // ==========================================
        // ğŸ“‹ ØªØ¹Ø¨Ø¦Ø© Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ÙÙ„Ø§ØªØ±
        // ==========================================
        function populateFilterOptions() {
            // ØªØ¹Ø¨Ø¦Ø© Ø§Ù„ÙØ¦Ø§Øª
            categoryFilter.innerHTML = '<option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª</option>';
            const categoryMap = {};
            
            allCategories.forEach(category => {
                const option = document.createElement('option');
                option.value = category.id;
                option.textContent = category.name || category.id;
                categoryFilter.appendChild(option);
                categoryMap[category.id] = category.name || category.id;
            });

            // ØªØ¹Ø¨Ø¦Ø© Ø§Ù„ØªØ¬Ø§Ø±
            merchantFilter.innerHTML = '<option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¬Ø§Ø±</option>';
            const merchantSet = new Set();
            
            filteredProducts.forEach(product => {
                const merchant = allMerchants.find(m => m.id === product.userId);
                if (merchant) {
                    merchantSet.add({
                        id: merchant.id,
                        name: merchant.name || merchant.username
                    });
                }
            });
            
            // ØªØ­ÙˆÙŠÙ„ Set Ø¥Ù„Ù‰ Array ÙˆØªØ±ØªÙŠØ¨ Ø£Ø¨Ø¬Ø¯ÙŠØ§Ù‹
            Array.from(merchantSet)
                .sort((a, b) => a.name.localeCompare(b.name))
                .forEach(merchant => {
                    const option = document.createElement('option');
                    option.value = merchant.id;
                    option.textContent = merchant.name;
                    merchantFilter.appendChild(option);
                });
        }

        // ==========================================
        // ğŸ¨ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        // ==========================================
        function displayProducts() {
            productsGrid.innerHTML = '';
            
            if (filteredProducts.length === 0) {
                productsGrid.innerHTML = `
                    <div class="no-products">
                        <i class="fas fa-box-open"></i>
                        <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù„Ø¹Ø±Ø¶Ù‡Ø§</h3>
                        <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù‚Ø±ÙŠØ¨Ø§Ù‹</p>
                    </div>
                `;
                return;
            }

            // Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
            filteredProducts.forEach(product => {
                const productCard = createProductCard(product);
                productsGrid.appendChild(productCard);
            });
        }

        // ==========================================
        // ğŸƒ Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ù†ØªØ¬
        // ==========================================
        function createProductCard(product) {
            const merchant = allMerchants.find(m => m.id === product.userId);
            const category = allCategories.find(c => c.id === product.categoryId);
            
            const card = document.createElement('div');
            card.className = 'product-card';
            
            // Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬
            const imageUrl = extractProductImage(product);
            
            // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø³Ø¹Ø±
            const price = product.price ? 
                `${product.price} ${product.currency || 'Ø±ÙŠØ§Ù„ ÙŠÙ…Ù†ÙŠ'}` : 
                'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            
            card.innerHTML = `
                <div class="product-image-container">
                    <img src="${imageUrl}" alt="${product.name || 'Ù…Ù†ØªØ¬'}" class="product-image" loading="lazy">
                    ${product.productType === 'Ø¹Ø±Ø¶' ? 
                        '<div class="product-badge"><i class="fas fa-tag"></i> Ø¹Ø±Ø¶ Ø®Ø§Øµ</div>' : ''}
                </div>
                <div class="product-content">
                    <h3 class="product-name">${product.name || 'Ù…Ù†ØªØ¬ Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…'}</h3>
                    <div class="product-price">${price}</div>
                    <p class="product-description">${product.description || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù„Ù„Ù…Ù†ØªØ¬'}</p>
                    
                    ${merchant ? `
                        <div class="merchant-info">
                            <img src="https://raw.githubusercontent.com/e772299420-hue/Call/main/icon-512x5122.png" 
                                 alt="${merchant.name || merchant.username}" 
                                 class="merchant-avatar">
                            <div class="merchant-details">
                                <div class="merchant-name">${merchant.name || merchant.username || 'ØªØ§Ø¬Ø±'}</div>
                                <div class="merchant-category">${category?.name || 'ØºÙŠØ± Ù…ØµÙ†Ù'}</div>
                            </div>
                        </div>
                    ` : ''}
                    
                    <button class="facebook-share-btn" data-product-id="${product.id}">
                        <i class="fab fa-facebook-f"></i>
                        Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ Facebook
                    </button>
                </div>
            `;
            
            return card;
        }

        // ==========================================
        // ğŸ–¼ï¸ Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬
        // ==========================================
        function extractProductImage(product) {
            let imageUrl = '';
            
            // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø­Ù‚ÙˆÙ„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
            if (product.imageUrls) {
                if (Array.isArray(product.imageUrls) && product.imageUrls.length > 0) {
                    imageUrl = product.imageUrls[0];
                } else if (typeof product.imageUrls === 'string') {
                    const urls = product.imageUrls.split(',').map(u => u.trim()).filter(Boolean);
                    if (urls.length > 0) imageUrl = urls[0];
                }
            }
            
            if (!imageUrl && product.imageUrl) {
                if (typeof product.imageUrl === 'string') {
                    const urls = product.imageUrl.split(/[,\n]/).map(u => u.trim()).filter(Boolean);
                    if (urls.length > 0) imageUrl = urls[0];
                }
            }
            
            // Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ ØµÙˆØ±Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            if (!imageUrl) {
                imageUrl = 'https://drive.google.com/thumbnail?id=1-qn1bTCIhgF1E5wm5RVRdm1pYLeNZCNC&sz=w800';
            }
            
            // ØªØ­ÙˆÙŠÙ„ Ø±Ø§Ø¨Ø· Google Drive Ø¥Ù„Ù‰ ØµÙŠØºØ© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø¹Ø±Ø¶
            return formatDriveUrl(imageUrl);
        }

        // ==========================================
        // ğŸ”— ØªÙ†Ø³ÙŠÙ‚ Ø±Ø§Ø¨Ø· Google Drive
        // ==========================================
        function formatDriveUrl(url) {
            if (!url) return '';
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø±Ø§Ø¨Ø· Ù‡Ùˆ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            if (url.includes('1-qn1bTCIhgF1E5wm5RVRdm1pYLeNZCNC')) {
                return url;
            }
            
            // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ù„Ù
            let id = '';
            
            if (url.includes('/d/')) {
                id = url.split('/d/')[1].split('/')[0];
            } else if (url.includes('id=')) {
                try { 
                    id = new URLSearchParams(url.split('?')[1]).get('id') || ''; 
                } catch { 
                    return url; 
                }
            } else if (url.includes('/file/d/')) {
                id = url.split('/file/d/')[1].split('/')[0];
            } else if (url.includes('drive.google.com/uc?id=')) {
                id = url.split('drive.google.com/uc?id=')[1].split('&')[0];
            }
            
            if (!id) return url;
            
            // Ø¥Ø±Ø¬Ø§Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…ØµØºØ±Ø©
            return `https://drive.google.com/thumbnail?id=${id}&sz=w800`;
        }

        // ==========================================
        // ğŸ¯ Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        // ==========================================
        function setupEventListeners() {
            // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ÙÙ„Ø§ØªØ±
            categoryFilter.addEventListener('change', filterProducts);
            merchantFilter.addEventListener('change', filterProducts);
            searchBtn.addEventListener('click', filterProducts);
            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') filterProducts();
            });
            resetBtn.addEventListener('click', resetFilters);
            
            // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
            document.addEventListener('click', (e) => {
                if (e.target.id === 'share-modal') {
                    closeShareModal();
                }
            });
            
            copyLinkBtn.addEventListener('click', copyShareLink);
            openFacebookBtn.addEventListener('click', openFacebookShare);
        }

        // ==========================================
        // ğŸ” ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        // ==========================================
        function filterProducts() {
            const category = categoryFilter.value;
            const merchant = merchantFilter.value;
            const search = searchInput.value.toLowerCase();
            
            filteredProducts = allProducts.filter(product => {
                // ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©
                if (category && product.categoryId !== category) return false;
                
                // ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„ØªØ§Ø¬Ø±
                if (merchant && product.userId !== merchant) return false;
                
                // ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ø¨Ø­Ø«
                if (search) {
                    const productName = (product.name || '').toLowerCase();
                    const productDesc = (product.description || '').toLowerCase();
                    const merchantObj = allMerchants.find(m => m.id === product.userId);
                    const merchantName = merchantObj ? (merchantObj.name || merchantObj.username || '').toLowerCase() : '';
                    
                    if (!productName.includes(search) && 
                        !productDesc.includes(search) && 
                        !merchantName.includes(search)) {
                        return false;
                    }
                }
                
                return true;
            });
            
            displayProducts();
        }

        // ==========================================
        // ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙÙ„Ø§ØªØ±
        // ==========================================
        function resetFilters() {
            categoryFilter.value = '';
            merchantFilter.value = '';
            searchInput.value = '';
            filterProducts();
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø¥Ø´Ø¹Ø§Ø±
            showNotification('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙÙ„Ø§ØªØ±', 'success');
        }

        // ==========================================
        // ğŸ¯ Ø¹Ø±Ø¶ Ø¥Ø´Ø¹Ø§Ø±
        // ==========================================
        function showNotification(message, type = 'success') {
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: ${type === 'success' ? '#42b72a' : '#e41e3f'};
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 5px 20px rgba(0,0,0,0.2);
                z-index: 9999;
                font-weight: 600;
                animation: slideDown 0.3s ease-out;
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†ÙŠ
            setTimeout(() => {
                notification.style.animation = 'slideUp 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // ==========================================
        // âŒ Ø¹Ø±Ø¶ Ø®Ø·Ø£
        // ==========================================
        function showError(message) {
            productsGrid.innerHTML = `
                <div class="error">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h3>${message}</h3>
                    <button onclick="location.reload()" style="margin-top:20px; padding:10px 20px; background:var(--primary-color); color:white; border:none; border-radius:5px; cursor:pointer;">
                        Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
                    </button>
                </div>
            `;
        }

        // ==========================================
        // ğŸ“¤ ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
        // ==========================================
        function openShareModal(productId) {
            // Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬
            const product = allProducts.find(p => p.id === productId);
            if (!product) {
                showNotification('Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯', 'error');
                return;
            }
            
            // Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©
            currentProductForShare = product;
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ§Ø¬Ø± ÙˆØ§Ù„ÙØ¦Ø©
            const merchant = allMerchants.find(m => m.id === product.userId);
            const category = allCategories.find(c => c.id === product.categoryId);
            
            // ØªØ­Ø¶ÙŠØ± ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬
            const imageUrl = extractProductImage(product);
            shareImagePreview.src = imageUrl;
            shareImagePreview.alt = product.name || 'Ù…Ù†ØªØ¬';
            
            // ØªØ­Ø¶ÙŠØ± Ù†Øµ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
            const productName = product.name || 'Ù…Ù†ØªØ¬ Ø±Ø§Ø¦Ø¹';
            const productPrice = product.price ? `${product.price} ${product.currency || 'Ø±ÙŠØ§Ù„ ÙŠÙ…Ù†ÙŠ'}` : 'Ø³Ø¹Ø± Ù…Ù…ÙŠØ²';
            const merchantName = merchant ? (merchant.name || merchant.username) : 'ØªØ§Ø¬Ø±';
            
            const shareText = `ğŸŒŸ ${productName} ğŸŒŸ
            
ğŸ’° Ø§Ù„Ø³Ø¹Ø±: ${productPrice}
ğŸ‘¨â€ğŸ’¼ Ø§Ù„ØªØ§Ø¬Ø±: ${merchantName}
ğŸ·ï¸ Ø§Ù„ÙØ¦Ø©: ${category?.name || 'Ù…ØªÙ†ÙˆØ¹'}

${product.description ? `ğŸ“ Ø§Ù„ÙˆØµÙ: ${product.description.substring(0, 200)}${product.description.length > 200 ? '...' : ''}` : ''}

ğŸ”— Ø§Ù„Ù…Ù†ØªØ¬ Ù…ØªØ§Ø­ ÙÙŠ AZ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø´Ø§Ù…Ù„ - Ù…Ù†ØµØ© Ø§Ù„ØªØ³ÙˆÙ‚ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„ØªÙ„Ø¨ÙŠØ© Ø¬Ù…ÙŠØ¹ Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒ!

#AZ_Ø§Ù„Ø³ÙˆÙ‚_Ø§Ù„Ø´Ø§Ù…Ù„ #ØªØ³ÙˆÙ‚ #Ù…Ù†ØªØ¬Ø§Øª #Ø¹Ø±ÙˆØ¶ #ØªØ³ÙˆÙ‚_Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ`;
            
            shareTextPreview.textContent = shareText;
            
            // ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø±Ø§Ø¨Ø·
            const productUrl = `${window.location.origin}/product_share.html?productId=${productId}`;
            shareUrlPreview.textContent = productUrl;
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†Ø§ÙØ°Ø©
            shareModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // ==========================================
        // ğŸ“¥ Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
        // ==========================================
        function closeShareModal() {
            shareModal.classList.remove('active');
            document.body.style.overflow = '';
            currentProductForShare = null;
        }

        // ==========================================
        // ğŸ“‹ Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
        // ==========================================
        function copyShareLink() {
            if (!currentProductForShare) return;
            
            const productUrl = `${window.location.origin}/product_share.html?productId=${currentProductForShare.id}`;
            
            navigator.clipboard.writeText(productUrl)
                .then(() => {
                    // ØªØºÙŠÙŠØ± Ù†Øµ Ø§Ù„Ø²Ø± Ù…Ø¤Ù‚ØªØ§Ù‹
                    const originalText = copyLinkBtn.innerHTML;
                    copyLinkBtn.innerHTML = '<i class="fas fa-check"></i> ØªÙ… Ø§Ù„Ù†Ø³Ø®!';
                    copyLinkBtn.style.background = '#42b72a';
                    
                    setTimeout(() => {
                        copyLinkBtn.innerHTML = originalText;
                        copyLinkBtn.style.background = '';
                    }, 2000);
                    
                    showNotification('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©', 'success');
                })
                .catch(() => {
                    // Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø© Ù„Ù„Ù†Ø³Ø®
                    const textArea = document.createElement('textarea');
                    textArea.value = productUrl;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    
                    showNotification('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©', 'success');
                });
        }

        // ==========================================
        // ğŸ”— ÙØªØ­ Facebook Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©
        // ==========================================
        function openFacebookShare() {
            if (!currentProductForShare) return;
            
            const productUrl = `${window.location.origin}/product_share.html?productId=${currentProductForShare.id}`;
            const productName = currentProductForShare.name || 'Ù…Ù†ØªØ¬ Ø±Ø§Ø¦Ø¹ Ù…Ù† AZ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø´Ø§Ù…Ù„';
            const productDescription = currentProductForShare.description || 'Ø§ÙƒØªØ´Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ù…ÙŠØ² ÙÙŠ AZ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø´Ø§Ù…Ù„';
            
            // Ø±Ø§Ø¨Ø· Ù…Ø¬Ù…ÙˆØ¹Ø© Facebook Ø§Ù„Ù‡Ø¯Ù
            const facebookGroupUrl = 'https://facebook.com/groups/1650698542573379/';
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ Facebook
            const shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(productUrl)}&quote=${encodeURIComponent(productDescription)}&hashtag=%23AZ_Ø§Ù„Ø³ÙˆÙ‚_Ø§Ù„Ø´Ø§Ù…Ù„`;
            
            // ÙØªØ­ Ø§Ù„Ù†Ø§ÙØ°Ø©
            window.open(shareUrl, '_blank', 'width=600,height=400');
            
            // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
            closeShareModal();
            
            showNotification('Ø¬Ø§Ø±Ù ÙØªØ­ Facebook Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©...', 'info');
        }

        // ==========================================
        // ğŸ¯ Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
        // ==========================================
        document.addEventListener('click', (e) => {
            // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
            if (e.target.closest('.facebook-share-btn')) {
                const productId = e.target.closest('.facebook-share-btn').dataset.productId;
                openShareModal(productId);
            }
        });

        // ==========================================
        // ğŸ¨ Ø¥Ø¶Ø§ÙØ© Ø£Ù†ÙŠÙ…ÙŠØ´Ù† CSS Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
        // ==========================================
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideDown {
                from { transform: translateX(-50%) translateY(-20px); opacity: 0; }
                to { transform: translateX(-50%) translateY(0); opacity: 1; }
            }
            
            @keyframes slideUp {
                from { transform: translateX(-50%) translateY(0); opacity: 1; }
                to { transform: translateX(-50%) translateY(-20px); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // ==========================================
        // ğŸ“± ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø¬ÙˆØ§Ù„
        // ==========================================
        window.addEventListener('resize', () => {
            // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ø´Ø§Ø´Ø©
            if (filteredProducts.length > 0) {
                displayProducts();
            }
        });
    </script>
</body>
    </html>
