<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تحليل بصمة المتصفح</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; }
        .info-item { margin: 10px 0; padding: 10px; background: #f0f0f0; border-radius: 5px; }
        .fingerprint { font-family: monospace; word-break: break-all; }
    </style>
</head>
<body>
    <div class="container">
        <h2>بصمة متصفحك الفريدة</h2>
        <div id="fingerprintData"></div>
    </div>

    <script>
        function generateFingerprint() {
            const fingerprint = {
                // معلومات النظام والمتصفح
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                languages: navigator.languages ? navigator.languages.join(', ') : 'غير معروف',
                
                // معلومات الشاشة
                screenResolution: screen.width + 'x' + screen.height,
                colorDepth: screen.colorDepth + ' بت',
                pixelRatio: window.devicePixelRatio,
                
                // معلومات الوقت والمنطقة
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                timezoneOffset: new Date().getTimezoneOffset(),
                
                // قدرات المتصفح
                cookiesEnabled: navigator.cookieEnabled,
                javaEnabled: navigator.javaEnabled ? 'نعم' : 'لا',
                pdfViewerEnabled: navigator.pdfViewerEnabled ? 'نعم' : 'لا',
                
                // الأجهزة والوسائط
                hardwareConcurrency: navigator.hardwareConcurrency || 'غير معروف',
                deviceMemory: navigator.deviceMemory ? navigator.deviceMemory + ' GB' : 'غير معروف',
                maxTouchPoints: navigator.maxTouchPoints || 'غير معروف'
            };
            
            // عرض البيانات
            const container = document.getElementById('fingerprintData');
            let html = '';
            
            for (const [key, value] of Object.entries(fingerprint)) {
                html += `
                    <div class="info-item">
                        <strong>${key}:</strong> 
                        <span class="fingerprint">${value}</span>
                    </div>
                `;
            }
            
            container.innerHTML = html;
            
            // إضافة بصمة Canvas (فريدة لكل جهاز)
            generateCanvasFingerprint();
        }
        
        function generateCanvasFingerprint() {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = 200;
            canvas.height = 50;
            
            // رسم نص مع تأثيرات
            ctx.textBaseline = 'top';
            ctx.font = '14px Arial';
            ctx.fillStyle = '#f60';
            ctx.fillRect(125, 1, 62, 20);
            ctx.fillStyle = '#069';
            ctx.fillText('Browser Fingerprint', 2, 15);
            ctx.fillStyle = 'rgba(102, 204, 0, 0.7)';
            ctx.fillText('Browser Fingerprint', 4, 17);
            
            // الحصول على بصمة Canvas
            const canvasData = canvas.toDataURL();
            const canvasHash = simpleHash(canvasData);
            
            const container = document.getElementById('fingerprintData');
            container.innerHTML += `
                <div class="info-item">
                    <strong>بصمة Canvas:</strong> 
                    <span class="fingerprint">${canvasHash}</span>
                </div>
            `;
        }
        
        function simpleHash(str) {
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            return Math.abs(hash).toString(16).substring(0, 8);
        }
        
        // تشغيل عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', generateFingerprint);
    </script>
</body>
</html>
